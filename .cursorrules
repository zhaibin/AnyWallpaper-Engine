# AnyWP Engine - Cursor Rules

## é¡¹ç›®æ¦‚è§ˆ
Flutter Windows æ’ä»¶ï¼Œå°† WebView2 åµŒå…¥ä¸ºäº¤äº’å¼æ¡Œé¢å£çº¸ï¼ˆæ˜¾ç¤ºåœ¨æ¡Œé¢å›¾æ ‡åæ–¹ï¼‰ã€‚

**æŠ€æœ¯æ ˆ**: Flutter 3.0+ | C++17 | WebView2 | CMake | JavaScript  
**å‘½å**: åŒ…å `anywp_engine` | ç±»å `AnyWPEngine` `AnyWPEnginePlugin`  
**æ ¸å¿ƒåŠŸèƒ½**: å£çº¸åµŒå…¥ | é¼ æ ‡äº¤äº’ | å…ƒç´ æ‹–æ‹½ | åº”ç”¨çº§å­˜å‚¨éš”ç¦» | çœç”µä¼˜åŒ–

---

## ç¼–ç è§„èŒƒ

### Dart
- ç±» `UpperCamelCase` | æ–¹æ³• `lowerCamelCase` | æ–‡ä»¶ `snake_case.dart`
- å…¬å…± API éœ€æ–‡æ¡£æ³¨é‡Š | å¼‚æ­¥ç”¨ `Future<T>` | ä½¿ç”¨ `flutter_lints`

### C++
- ç±»/æ–¹æ³• `PascalCase` | æˆå‘˜å˜é‡ `snake_case_` | å¸¸é‡ `UPPER_SNAKE_CASE`
- ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆç®¡ç† COM | RAII ç®¡ç†èµ„æº | æ£€æŸ¥ Win32 API è¿”å›å€¼
- **æ¨¡å—åŒ–è®¾è®¡** (v1.3.2+): æŒ‰åŠŸèƒ½æ‹†åˆ†ä¸ºç‹¬ç«‹æ¨¡å—ï¼ˆ`modules/`ï¼‰å’Œå·¥å…·ç±»ï¼ˆ`utils/`ï¼‰
- æ ¸å¿ƒæ’ä»¶æ–‡ä»¶ä¿æŒç²¾ç®€ï¼Œå¤æ‚åŠŸèƒ½å§”æ‰˜ç»™ä¸“é—¨æ¨¡å—
- **é”™è¯¯å¤„ç†** (v4.9.0+): æ‰€æœ‰å…³é”®æ“ä½œä½¿ç”¨ try-catchï¼Œå›è°ƒæ·»åŠ å¼‚å¸¸ä¿æŠ¤
- **æ—¥å¿—è®°å½•** (v4.9.0+): ä½¿ç”¨ `Logger::Instance()` ç»Ÿä¸€è®°å½•ï¼Œæ”¯æŒå¤šçº§åˆ«å’Œçº¿ç¨‹å®‰å…¨
- **å•å…ƒæµ‹è¯•** (v4.9.0+): æ–°åŠŸèƒ½éœ€æ·»åŠ æµ‹è¯•ç”¨ä¾‹åˆ° `windows/test/`

### JavaScript/TypeScript
- å…¨å±€ `window.AnyWP` | æ–¹æ³• `lowerCamelCase`
- æ ¸å¿ƒ API: `makeDraggable()` `saveState()` `loadState()` `onClick()`
- **TypeScript SDK** (v4.2.0+): 100% TypeScript é‡å†™ï¼Œæ¨¡å—åŒ–æ¶æ„
- ç±»å‹å®šä¹‰åœ¨ `windows/sdk/types.ts` | ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼ (`strict: true`)

---

## æ–‡ä»¶ç»„ç»‡

```
lib/                    # Dart API
windows/                # C++ å®ç° + anywp_sdk.js
  â”œâ”€â”€ modules/          # åŠŸèƒ½æ¨¡å— (v1.3.2+)
  â”‚   â”œâ”€â”€ iframe_detector.cpp/h       # iframe æ£€æµ‹ä¸åæ ‡æ˜ å°„
  â”‚   â”œâ”€â”€ sdk_bridge.cpp/h            # JavaScript SDK æ³¨å…¥ä¸æ¶ˆæ¯æ¡¥æ¥
  â”‚   â”œâ”€â”€ mouse_hook_manager.cpp/h   # é¼ æ ‡é’©å­ç®¡ç† (å®Œå–„é”™è¯¯å¤„ç†)
  â”‚   â”œâ”€â”€ monitor_manager.cpp/h      # å¤šæ˜¾ç¤ºå™¨ç®¡ç† (å®Œå–„é”™è¯¯å¤„ç†)
  â”‚   â””â”€â”€ power_manager.cpp/h        # çœç”µä¸æ€§èƒ½ä¼˜åŒ– (å®Œå–„é”™è¯¯å¤„ç†)
  â”œâ”€â”€ utils/            # å·¥å…·ç±» (v1.3.2+)
  â”‚   â”œâ”€â”€ state_persistence.cpp/h    # åº”ç”¨çº§çŠ¶æ€æŒä¹…åŒ–
  â”‚   â”œâ”€â”€ url_validator.cpp/h        # URL ç™½åå•/é»‘åå•éªŒè¯
  â”‚   â””â”€â”€ logger.cpp/h               # æ—¥å¿—å·¥å…· (çº¿ç¨‹å®‰å…¨ã€å¤šçº§åˆ«)
  â”œâ”€â”€ test/             # C++ å•å…ƒæµ‹è¯• (v4.9.0+)
  â”‚   â”œâ”€â”€ test_framework.h           # è½»é‡çº§æµ‹è¯•æ¡†æ¶
  â”‚   â”œâ”€â”€ unit_tests.cpp             # å•å…ƒæµ‹è¯•ç”¨ä¾‹
  â”‚   â”œâ”€â”€ CMakeLists.txt             # æµ‹è¯•æ„å»ºé…ç½®
  â”‚   â””â”€â”€ run_tests.bat              # æµ‹è¯•è¿è¡Œè„šæœ¬
  â”œâ”€â”€ sdk/              # æ¨¡å—åŒ– TypeScript SDK æºç  (v4.2.0)
  â”‚   â”œâ”€â”€ __tests__/    # å•å…ƒæµ‹è¯• (Jest + TS, 118 tests, 96.6% pass)
  â”‚   â”œâ”€â”€ core/         # æ ¸å¿ƒæ¨¡å— (AnyWP.ts, init.ts)
  â”‚   â”œâ”€â”€ modules/      # åŠŸèƒ½æ¨¡å— (events, click, drag, storage, spa, animations)
  â”‚   â”œâ”€â”€ utils/        # å·¥å…·æ¨¡å— (bounds, coordinates, debug)
  â”‚   â”œâ”€â”€ types.ts      # TypeScript ç±»å‹å®šä¹‰
  â”‚   â”œâ”€â”€ index.ts      # å…¥å£æ–‡ä»¶ (TypeScript)
  â”‚   â”œâ”€â”€ tsconfig.json # TypeScript é…ç½®
  â”‚   â”œâ”€â”€ jest.config.js # Jest æµ‹è¯•é…ç½®
  â”‚   â”œâ”€â”€ package.json  # ä¾èµ–é…ç½®
  â”‚   â””â”€â”€ rollup.config.js  # æ„å»ºé…ç½® (TS â†’ JS)
  â”œâ”€â”€ anywp_engine_plugin.cpp/h  # ä¸»æ’ä»¶å®ç°ï¼ˆé‡æ„åæ›´ç²¾ç®€ï¼‰
  â””â”€â”€ anywp_sdk.js      # æ„å»ºåçš„å•æ–‡ä»¶ SDK
example/                # ç¤ºä¾‹åº”ç”¨
examples/               # æµ‹è¯• HTML (9ä¸ªï¼Œå« test_refactoring.html)
docs/                   # æ ¸å¿ƒæ–‡æ¡£ (23ä¸ª)
scripts/                # æ„å»ºè„šæœ¬ + æµ‹è¯•è„šæœ¬
release/                # å‘å¸ƒåŒ…
```

---

## æ ¸å¿ƒæ–‡æ¡£

### é¢å‘å¼€å‘è€…ï¼ˆå¿…è¯»ï¼‰
- **Flutter**: `docs/FOR_FLUTTER_DEVELOPERS.md` (å¯¼èˆª) + `docs/DEVELOPER_API_REFERENCE.md` (API)
- **Web**: `docs/WEB_DEVELOPER_GUIDE_CN.md`
- **é›†æˆ**: `docs/PRECOMPILED_DLL_INTEGRATION.md`
- **å­˜å‚¨**: `README.md` å­˜å‚¨éš”ç¦»ç« èŠ‚ (v1.2.0+)

### æŠ€æœ¯æ–‡æ¡£
- `docs/TECHNICAL_NOTES.md` | `docs/API_BRIDGE.md` | `docs/INTEGRATION_ARCHITECTURE.md`

### ç”¨æˆ·æ–‡æ¡£
- `README.md` | `docs/QUICK_START.md` | `docs/TROUBLESHOOTING.md`

---

## å¼€å‘æµç¨‹

### åŠŸèƒ½å¼€å‘
1. å®ç°åŠŸèƒ½ + é”™è¯¯å¤„ç†
2. è¿è¡Œæµ‹è¯•éªŒè¯ï¼ˆ`.\scripts\test.bat`ï¼‰
3. è‡ªåŠ¨æäº¤ä»£ç 

### Web SDK å¼€å‘ (v4.2.0+ TypeScript æ¨¡å—åŒ–)
**æºç ä½ç½®**: `windows/sdk/` (100% TypeScript)

**å¼€å‘æ­¥éª¤**:
1. ä¿®æ”¹ TypeScript æºç  (`sdk/core/`, `sdk/modules/`, `sdk/utils/`, `sdk/types.ts`)
2. è¿è¡Œå•å…ƒæµ‹è¯•: `cd windows\sdk && npm test`
3. æ„å»ºç”Ÿäº§ SDK: `npm run build` (ç”Ÿæˆ `windows/anywp_sdk.js`)
4. åœ¨ Flutter WebView2 ä¸­æµ‹è¯•: `.\scripts\test_draggable.bat` æˆ– `.\scripts\test.bat`
5. æäº¤: åŒæ—¶æäº¤ TS æºç å’Œæ„å»ºäº§ç‰©

**å¿«é€Ÿæ„å»º**:
```bash
# ä»é¡¹ç›®æ ¹ç›®å½•
.\scripts\build_sdk.bat

# æˆ–ä» windows/sdk ç›®å½•
cd windows\sdk
npm run build       # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm test           # è¿è¡Œå•å…ƒæµ‹è¯•
npm run test:coverage  # ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
```

**âš ï¸ é‡è¦æç¤º**:
- SDK åŠŸèƒ½ä¾èµ– **WebView2 Native æ¡¥æ¥**ï¼ˆ`chrome.webview.postMessage`ï¼‰
- ä¸è¦åˆ›å»ºæµè§ˆå™¨æµ‹è¯•è„šæœ¬ï¼Œå¿…é¡»åœ¨ Flutter åº”ç”¨ä¸­æµ‹è¯•
- æµ‹è¯•è„šæœ¬: `test_draggable.bat` | `test.bat` | `debug_run.bat`

**TypeScript æ¨¡å—è¯´æ˜**:
- `core/AnyWP.ts` - æ ¸å¿ƒå¯¹è±¡å®šä¹‰ï¼ˆç±»å‹å®‰å…¨ï¼‰
- `core/init.ts` - åˆå§‹åŒ–é€»è¾‘
- `modules/events.ts` - äº‹ä»¶ç³»ç»Ÿ
- `modules/click.ts` - ç‚¹å‡»å¤„ç†
- `modules/drag.ts` - æ‹–æ‹½åŠŸèƒ½
- `modules/storage.ts` - çŠ¶æ€æŒä¹…åŒ–
- `modules/spa.ts` - SPA æ¡†æ¶æ”¯æŒ
- `modules/animations.ts` - åŠ¨ç”»æ§åˆ¶
- `utils/bounds.ts` - è¾¹ç•Œè®¡ç®—
- `utils/coordinates.ts` - åæ ‡è½¬æ¢
- `utils/debug.ts` - è°ƒè¯•å·¥å…·
- `types.ts` - å®Œæ•´ç±»å‹å®šä¹‰

**å•å…ƒæµ‹è¯•**:
- `__tests__/storage.test.ts` (16 tests)
- `__tests__/animations.test.ts` (15 tests)
- `__tests__/events.test.ts` (16 tests)
- `__tests__/click.test.ts` (17 tests)
- `__tests__/drag.test.ts` (20 tests)
- `__tests__/spa.test.ts` (22 tests)
- `__tests__/debug.test.ts` (7 tests)
- `__tests__/bounds.test.ts` (4 tests)
- `__tests__/coordinates.test.ts` (5 tests)
- **æµ‹è¯•è¦†ç›–**: 118 tests, 114 passing (96.6%), ~71% code coverage

### è°ƒè¯•æµç¨‹
1. ç¼–è¯‘è¿è¡Œï¼š`.\scripts\debug_run.bat`
2. æŸ¥çœ‹æ—¥å¿—ï¼š`debug_run.log` æˆ– `example/test_output.log`
3. åˆ†æä¼˜åŒ–ï¼Œé‡å¤æµ‹è¯•

---

## æµ‹è¯•ã€ä¸Šçº¿ã€å‘ç‰ˆæµç¨‹ï¼ˆå¿…é¡»éµå®ˆï¼‰

### é˜¶æ®µ 1ï¸âƒ£ï¼šåŠŸèƒ½å¼€å‘ä¸æµ‹è¯•

#### 1.1 å¼€å‘é˜¶æ®µ
- [ ] å®ç°åŠŸèƒ½ä»£ç ï¼ˆDart + C++ + TypeScript/JavaScriptï¼‰
- [ ] æ·»åŠ å®Œæ•´çš„æ–‡æ¡£æ³¨é‡Š
- [ ] é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæƒ…å†µ
- [ ] **Web SDK ä¿®æ”¹éœ€æ„å»º**: `cd windows\sdk && npm run build`
- [ ] **Web SDK ä¿®æ”¹éœ€æµ‹è¯•**: `npm test` (å•å…ƒæµ‹è¯•)
- [ ] è‡ªåŠ¨æäº¤ä»£ç 

#### 1.2 ç¼–è¯‘æµ‹è¯•
```bash
cd example
flutter clean
flutter build windows --debug
```
- [ ] æ— ç¼–è¯‘é”™è¯¯
- [ ] æ—  Linter è­¦å‘Š
- [ ] DLL æ­£ç¡®ç”Ÿæˆ
- [ ] **SDK å·²æ„å»º**: `windows/anywp_sdk.js` å­˜åœ¨ä¸”æ˜¯æœ€æ–°çš„

#### 1.3 åŠŸèƒ½æµ‹è¯•
```bash
.\scripts\test.bat  # æˆ– debug_run.bat
```
**å¿…æµ‹é¡¹ç›®**:
- [ ] åŸºç¡€åŠŸèƒ½æ­£å¸¸ï¼ˆå¯åŠ¨/åœæ­¢å£çº¸ï¼‰
- [ ] æ–°åŠŸèƒ½å·¥ä½œæ­£å¸¸
- [ ] æ— å´©æºƒæˆ–å¼‚å¸¸
- [ ] å†…å­˜å ç”¨åˆç†ï¼ˆ< 300 MBï¼‰
- [ ] æµ‹è¯•è‡³å°‘ 2 ä¸ªæµ‹è¯•é¡µé¢ï¼ˆexamples/ï¼‰
- [ ] **Web SDK æµ‹è¯•**: æ‹–æ‹½ã€ç‚¹å‡»ã€çŠ¶æ€æŒä¹…åŒ–å‡æ­£å¸¸

#### 1.4 é›†æˆæµ‹è¯•
- [ ] å¤šæ˜¾ç¤ºå™¨æ”¯æŒï¼ˆå¦‚æœ‰å¤šæ˜¾ç¤ºå™¨ï¼‰
- [ ] æ‹–æ‹½åŠŸèƒ½ï¼ˆtest_draggable.htmlï¼‰
- [ ] çŠ¶æ€æŒä¹…åŒ–ï¼ˆæ‹–æ‹½ä½ç½®ä¿å­˜/åŠ è½½ï¼‰
- [ ] åº”ç”¨éš”ç¦»ï¼ˆæ£€æŸ¥å­˜å‚¨ç›®å½• `%LOCALAPPDATA%\AnyWPEngine\`ï¼‰
- [ ] **TypeScript å•å…ƒæµ‹è¯•**: `cd windows\sdk && npm test` (â‰¥95% é€šè¿‡ç‡)

---

### é˜¶æ®µ 2ï¸âƒ£ï¼šæ–‡æ¡£æ›´æ–°ï¼ˆå‘å¸ƒå‰å¿…é¡»ï¼‰

#### 2.1 æ ¸å¿ƒæ–‡æ¡£åŒæ­¥
**æ–°å¢ API å¿…é¡»æ›´æ–°**:
- [ ] `README.md` - å¿«é€Ÿå¼€å§‹ç¤ºä¾‹
- [ ] `lib/anywp_engine.dart` - Dart æ–‡æ¡£æ³¨é‡Š
- [ ] `docs/DEVELOPER_API_REFERENCE.md` - API å‚è€ƒç« èŠ‚
- [ ] `docs/FOR_FLUTTER_DEVELOPERS.md` - API åˆ—è¡¨

**æ–°å¢åŠŸèƒ½å¿…é¡»æ›´æ–°**:
- [ ] `README.md` - Features ç« èŠ‚
- [ ] `CHANGELOG_CN.md` - æ–°å¢æ›´æ–°æ—¥å¿—æ¡ç›®

#### 2.2 ç¤ºä¾‹ä»£ç æ›´æ–°
- [ ] `README.md` å¿«é€Ÿå¼€å§‹ä»£ç å¯è¿è¡Œ
- [ ] `docs/DEVELOPER_API_REFERENCE.md` ç¤ºä¾‹ä»£ç å®Œæ•´
- [ ] ç‰ˆæœ¬æ ‡æ³¨æ¸…æ™°ï¼ˆå¦‚ `v1.2.0+`ï¼‰

#### 2.3 æ–‡æ¡£éªŒè¯
```bash
# éªŒè¯æ–° API æ˜¯å¦è¦†ç›–
grep -r "newAPIName" docs/ README.md lib/
```
- [ ] æ‰€æœ‰æ ¸å¿ƒæ–‡æ¡£åŒ…å«æ–°åŠŸèƒ½
- [ ] ç¤ºä¾‹ä»£ç å¯ç›´æ¥å¤åˆ¶ä½¿ç”¨
- [ ] æ— è¿‡æ—¶ä¿¡æ¯

---

### é˜¶æ®µ 3ï¸âƒ£ï¼šå‘å¸ƒå‡†å¤‡

#### 3.1 ç‰ˆæœ¬å·æ›´æ–°
**å¿…é¡»åŒæ­¥æ›´æ–°**:
- [ ] `pubspec.yaml` - version: `1.x.0`
- [ ] `scripts/build_release_v2.bat` - VERSION=`1.x.0`
- [ ] `CHANGELOG_CN.md` - æ·»åŠ æ–°ç‰ˆæœ¬æ¡ç›®
- [ ] `.cursorrules` åº•éƒ¨ç‰ˆæœ¬å·

#### 3.2 CHANGELOG å®Œæ•´æ€§
**å¿…é¡»åŒ…å«**:
- [ ] ç‰ˆæœ¬å·å’Œæ—¥æœŸï¼š`## [4.x.0] - YYYY-MM-DD - æ ‡é¢˜`
- [ ] æ–°å¢åŠŸèƒ½ï¼š`### âœ¨ æ–°å¢åŠŸèƒ½`
- [ ] é‡æ„æ”¹è¿›ï¼š`### ğŸ”„ é‡æ„æ”¹è¿›`ï¼ˆå¦‚æœ‰ï¼‰
- [ ] æ–‡æ¡£æ›´æ–°ï¼š`### ğŸ“š æ–‡æ¡£æ›´æ–°`
- [ ] ä½¿ç”¨ç¤ºä¾‹ï¼š`### ğŸ¯ ä½¿ç”¨ç¤ºä¾‹`
- [ ] æŠ€æœ¯ç»†èŠ‚ï¼š`### ğŸ”§ æŠ€æœ¯ç»†èŠ‚`ï¼ˆå¦‚æœ‰é‡å¤§æ”¹åŠ¨ï¼‰

#### 3.3 Release æ„å»º

**æ­¥éª¤**:
```bash
.\scripts\build_release_v2.bat
```

**æ„å»ºå®Œæˆåæ£€æŸ¥**:
- [ ] æ„å»ºæˆåŠŸæ— é”™è¯¯ï¼ˆERROR_COUNT = 0ï¼‰
- [ ] DLL æ–‡ä»¶ç”Ÿæˆï¼ˆ`release/anywp_engine_v{ç‰ˆæœ¬å·}/bin/`ï¼‰
- [ ] âš ï¸ **LIB æ–‡ä»¶ç”Ÿæˆ**ï¼ˆ`release/anywp_engine_v{ç‰ˆæœ¬å·}/lib/anywp_engine_plugin.lib`ï¼‰
- [ ] ç›®å½•ç»“æ„å®Œæ•´ï¼ˆbin, lib, include, sdk, windowsï¼‰
- [ ] æ–‡æ¡£æ–‡ä»¶é½å…¨ï¼ˆREADME, CHANGELOG, LICENSE, PRECOMPILED_README, pubspec.yamlï¼‰

**âŒ å¦‚æœæ„å»ºè„šæœ¬æ˜¾ç¤ºè­¦å‘Šä½†ç»§ç»­**:
- ç«‹å³åœæ­¢ï¼Œæ£€æŸ¥æ„å»ºæ—¥å¿—
- æ‰€æœ‰å…³é”®æ–‡ä»¶çš„å¤åˆ¶å¤±è´¥éƒ½åº”è¯¥æ˜¯é”™è¯¯ï¼Œè€Œéè­¦å‘Š
- ä¿®å¤ `build_release_v2.bat` ä¸­çš„é”™è¯¯å¤„ç†é€»è¾‘
- å¦‚éœ€æ— äººå€¼å®ˆæ‰§è¡Œï¼Œå¯å…ˆè®¾ç½® `NO_PAUSE=1`ï¼š`cmd /c "set NO_PAUSE=1 && .\scripts\build_release_v2.bat"`
- `Compress-Archive` è¯·ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼ˆä¾‹å¦‚ `E:\Projects\...`ï¼‰ï¼Œé¿å… PowerShell â€œè·¯å¾„ä¸å­˜åœ¨â€çš„è¯¯åˆ¤

#### 3.4 å‘å¸ƒåŒ…éªŒè¯

**æ–‡æ¡£æ£€æŸ¥**:
- [ ] `release/anywp_engine_v{ç‰ˆæœ¬å·}/README.md` åŒ…å«æ–°åŠŸèƒ½
- [ ] `release/anywp_engine_v{ç‰ˆæœ¬å·}/CHANGELOG_CN.md` åŒ…å«æ–°ç‰ˆæœ¬
- [ ] `release/anywp_engine_v{ç‰ˆæœ¬å·}/pubspec.yaml` ç‰ˆæœ¬å·æ­£ç¡®
- [ ] `release/anywp_engine_v{ç‰ˆæœ¬å·}/lib/anywp_engine.dart` åŒ…å«æ–° APIï¼ˆæ ‡å‡†ä½ç½®ï¼‰
- [ ] éªŒè¯æ–° API åœ¨å‘å¸ƒåŒ…æ–‡æ¡£ä¸­çš„è¦†ç›–åº¦

**âš ï¸ å…³é”®æ–‡ä»¶æ£€æŸ¥ï¼ˆv1.2.1+ æ–°å¢ï¼‰**:

**å¿…é¡»å­˜åœ¨çš„æ–‡ä»¶**ï¼ˆç¼ºä¸€ä¸å¯ï¼‰ï¼š
- [ ] `bin/anywp_engine_plugin.dll` - è¿è¡Œæ—¶ DLL
- [ ] `bin/WebView2Loader.dll` - WebView2 è¿è¡Œæ—¶
- [ ] `lib/anywp_engine_plugin.lib` - **é“¾æ¥åº“ï¼ˆå¿…éœ€ï¼å®¢æˆ·é›†æˆæ—¶é“¾æ¥å™¨éœ€è¦ï¼‰**
- [ ] `lib/anywp_engine.dart` - Dart æºç ï¼ˆæ ‡å‡†ä½ç½®ï¼‰
- [ ] `lib/dart/anywp_engine.dart` - Dart æºç ï¼ˆå‘åå…¼å®¹ï¼‰
- [ ] `include/anywp_engine/any_w_p_engine_plugin.h` - å…¬å…±å¤´æ–‡ä»¶
- [ ] `windows/src/anywp_engine_plugin.cpp` - **C++ æºç ï¼ˆå¿…éœ€ï¼å®¢æˆ·å¯é€‰æ‹©è‡ªè¡Œç¼–è¯‘ï¼‰**
- [ ] `windows/src/anywp_engine_plugin.h` - C++ æºç å¤´æ–‡ä»¶
- [ ] `windows/anywp_sdk.js` - **JavaScript SDKï¼ˆæ„å»ºäº§ç‰©ï¼‰**
- [ ] `windows/CMakeLists.txt` - CMake é…ç½®ï¼ˆæ”¯æŒé¢„ç¼–è¯‘/æºç æ¨¡å¼ï¼‰
- [ ] `windows/packages/` - WebView2 NuGet åŒ…ç›®å½•
- [ ] `windows/packages.config` - NuGet é…ç½®

**ğŸ†• TypeScript SDK æºç ï¼ˆv4.2.0+ å¯é€‰ï¼Œæ¨èï¼‰**:
- [ ] `windows/sdk/` - **TypeScript æºç ç›®å½•**
- [ ] `windows/sdk/package.json` - npm ä¾èµ–é…ç½®
- [ ] `windows/sdk/tsconfig.json` - TypeScript é…ç½®
- [ ] `windows/sdk/core/` - æ ¸å¿ƒæ¨¡å—æºç 
- [ ] `windows/sdk/modules/` - åŠŸèƒ½æ¨¡å—æºç 
- [ ] `windows/sdk/utils/` - å·¥å…·æ¨¡å—æºç 
- [ ] `windows/sdk/types.ts` - ç±»å‹å®šä¹‰
- [ ] `windows/sdk/__tests__/` - å•å…ƒæµ‹è¯•ï¼ˆå¯é€‰ï¼‰

**éªŒè¯å‘½ä»¤**ï¼ˆåœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œï¼‰:
```bash
# éªŒè¯æ–‡æ¡£è¦†ç›–åº¦ï¼ˆæ›¿æ¢ newAPIName ä¸ºå®é™… API åç§°ï¼‰
grep -r "newAPIName" release/anywp_engine_v{ç‰ˆæœ¬å·}/

# âš ï¸ éªŒè¯å…³é”®æ–‡ä»¶å­˜åœ¨ï¼ˆå¿…é¡»å…¨éƒ¨è¿”å› Trueï¼‰
Test-Path "release\anywp_engine_v{ç‰ˆæœ¬å·}\bin\anywp_engine_plugin.dll"
Test-Path "release\anywp_engine_v{ç‰ˆæœ¬å·}\bin\WebView2Loader.dll"
Test-Path "release\anywp_engine_v{ç‰ˆæœ¬å·}\lib\anywp_engine_plugin.lib"      # æœ€æ˜“é—æ¼ï¼
Test-Path "release\anywp_engine_v{ç‰ˆæœ¬å·}\lib\anywp_engine.dart"            # æ ‡å‡†ä½ç½®
Test-Path "release\anywp_engine_v{ç‰ˆæœ¬å·}\lib\dart\anywp_engine.dart"       # å‘åå…¼å®¹
Test-Path "release\anywp_engine_v{ç‰ˆæœ¬å·}\windows\src\anywp_engine_plugin.cpp"  # C++ æºç 
Test-Path "release\anywp_engine_v{ç‰ˆæœ¬å·}\windows\src\anywp_engine_plugin.h"    # C++ å¤´æ–‡ä»¶
Test-Path "release\anywp_engine_v{ç‰ˆæœ¬å·}\windows\anywp_sdk.js"            # SDK æ„å»ºäº§ç‰©
Test-Path "release\anywp_engine_v{ç‰ˆæœ¬å·}\windows\sdk\package.json"        # TS æºç ï¼ˆå¯é€‰ï¼‰
Test-Path "release\anywp_engine_v{ç‰ˆæœ¬å·}\windows\CMakeLists.txt"
Test-Path "release\anywp_engine_v{ç‰ˆæœ¬å·}\windows\packages\"

# è¿è¡Œå‘å¸ƒåŒ…è‡ªæ£€è„šæœ¬ï¼ˆæ¨èï¼‰
cmd /c "cd release\anywp_engine_v{ç‰ˆæœ¬å·} && verify_precompiled.bat"
```

**âŒ å¦‚æœç¼ºå°‘ä»»ä½•å…³é”®æ–‡ä»¶**ï¼š
1. **ç«‹å³åœæ­¢å‘å¸ƒæµç¨‹** - ä¸å®Œæ•´çš„åŒ…ä¼šå¯¼è‡´å®¢æˆ·é›†æˆå¤±è´¥
2. é‡æ–°è¿è¡Œ `.\scripts\build_release_v2.bat` å¹¶æ£€æŸ¥é”™è¯¯æ—¥å¿—
3. å¦‚æœä»ç„¶ç¼ºå°‘ï¼Œæ‰‹åŠ¨å¤åˆ¶å¹¶è°ƒæŸ¥åŸå› ï¼š
   - `.lib` æ–‡ä»¶ï¼šä» `example\build\windows\x64\plugins\anywp_engine\Release\`
   - `.cpp/.h` æ–‡ä»¶ï¼šä» `windows\`
   - å…¶ä»–æ–‡ä»¶ï¼šå‚è€ƒæ„å»ºè„šæœ¬è·¯å¾„
4. ç¡®ä¿ `build_release_v2.bat` ä¸­æ‰€æœ‰å¤åˆ¶æ“ä½œéƒ½æ˜¯ **é”™è¯¯çº§åˆ«** è€Œéè­¦å‘Š
5. è®°å½•é—®é¢˜åˆ° CHANGELOGï¼Œé¿å…ä¸‹æ¬¡å‘ç”Ÿ

**âš ï¸ å®¢æˆ·åé¦ˆçš„å¸¸è§é›†æˆé”™è¯¯**ï¼š
- `LNK1104: æ— æ³•æ‰“å¼€æ–‡ä»¶ anywp_engine_plugin-NOTFOUND.obj` â†’ ç¼ºå°‘ .lib æ–‡ä»¶
- `Source file not found` â†’ ç¼ºå°‘ .cpp æºæ–‡ä»¶
- `IMPORTED_IMPLIB not found` â†’ .lib æ–‡ä»¶è·¯å¾„ä¸æ­£ç¡®
- Dart æ–‡ä»¶æ‰¾ä¸åˆ° â†’ Dart æ–‡ä»¶ä¸åœ¨æ ‡å‡† lib/ ç›®å½•

**é¢å¤–éªŒæ”¶ï¼ˆå¼ºçƒˆå»ºè®®ï¼‰**ï¼š
- åœ¨å…¨æ–° Flutter å·¥ç¨‹ä¸­æ‰§è¡Œ `release/anywp_engine_v{ç‰ˆæœ¬å·}/setup_precompiled.bat`
- è¿è¡Œ `release/anywp_engine_v{ç‰ˆæœ¬å·}/example_minimal`ï¼Œç¡®è®¤å£çº¸å¯å¯åŠ¨/åœæ­¢

#### 3.5 åˆ›å»º Web SDK ç‹¬ç«‹å‘å¸ƒåŒ…ï¼ˆv1.3.1+ è‡ªåŠ¨åŒ–ï¼‰

**âš ï¸ é‡è¦å˜æ›´ï¼ˆv1.3.1+ï¼‰**ï¼š
- âœ… **ç°å·²è‡ªåŠ¨åŒ–**ï¼š`build_release_v2.bat` è„šæœ¬åœ¨æ­¥éª¤ 17/17 è‡ªåŠ¨ç”Ÿæˆ Web SDK åŒ…
- âœ… æ— éœ€æ‰‹åŠ¨æ“ä½œï¼Œè¿è¡Œä¸»æ„å»ºè„šæœ¬å³å¯
- âœ… ä¹Ÿå¯å•ç‹¬è¿è¡Œï¼š`.\scripts\build_web_sdk.ps1 -Version "1.x.x"`

**ğŸ†• TypeScript SDK æ³¨æ„äº‹é¡¹ï¼ˆv4.2.0+ï¼‰**ï¼š
- âš ï¸ **å‘å¸ƒå‰å¿…é¡»æ„å»º**: ç¡®ä¿ `windows/anywp_sdk.js` æ˜¯æœ€æ–°ç‰ˆæœ¬
- âš ï¸ **éªŒè¯æ„å»ºæ—¶é—´**: æ£€æŸ¥æ–‡ä»¶ä¿®æ”¹æ—¶é—´æ˜¯å¦åœ¨æœ€è¿‘ä¿®æ”¹ TypeScript æºç ä¹‹å
- âš ï¸ **è¿è¡Œå•å…ƒæµ‹è¯•**: `cd windows\sdk && npm test` ç¡®ä¿ â‰¥95% é€šè¿‡
- ğŸ’¡ **å¯é€‰**: åŒ…å« TypeScript æºç ï¼ˆ`windows/sdk/`ï¼‰ä¾›é«˜çº§ç”¨æˆ·å‚è€ƒ

**æ„å»ºæ­¥éª¤**ï¼ˆå‘å¸ƒå‰ï¼‰:
```bash
# 1. æ„å»º TypeScript SDK
cd windows\sdk
npm run build       # ç”Ÿæˆ windows/anywp_sdk.js
npm test           # éªŒè¯æµ‹è¯•é€šè¿‡

# 2. è¿”å›é¡¹ç›®æ ¹ç›®å½•
cd ..\..

# 3. è¿è¡Œ Release æ„å»º
.\scripts\build_release_v2.bat
```

**è‡ªåŠ¨ç”Ÿæˆçš„å†…å®¹**ï¼š
```
release/anywp_web_sdk_v{ç‰ˆæœ¬å·}.zip (~56 KB)
â”œâ”€â”€ sdk/anywp_sdk.js  â† TypeScript æ„å»ºäº§ç‰©
â”œâ”€â”€ examples/
â”‚   â”œâ”€â”€ test_simple.html
â”‚   â”œâ”€â”€ test_draggable.html
â”‚   â”œâ”€â”€ test_api.html
â”‚   â”œâ”€â”€ test_click.html
â”‚   â”œâ”€â”€ test_visibility.html
â”‚   â”œâ”€â”€ test_react.html
â”‚   â”œâ”€â”€ test_vue.html
â”‚   â””â”€â”€ test_iframe_ads.html
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ WEB_DEVELOPER_GUIDE_CN.md
â”‚   â”œâ”€â”€ WEB_DEVELOPER_GUIDE.md
â”‚   â””â”€â”€ API_USAGE_EXAMPLES.md
â”œâ”€â”€ README.md (è‡ªåŠ¨ç”Ÿæˆï¼Œè¯´æ˜ TypeScript æ¶æ„)
â””â”€â”€ LICENSE
```

**éªŒè¯å‘½ä»¤**ï¼ˆåœ¨ build_release_v2.bat å®Œæˆåï¼‰ï¼š
```powershell
# éªŒè¯ Web SDK åŒ…å­˜åœ¨
Test-Path "release\anywp_web_sdk_v{ç‰ˆæœ¬å·}.zip"

# éªŒè¯æ–‡ä»¶å¤§å°ï¼ˆåº”çº¦ 56 KBï¼‰
Get-Item "release\anywp_web_sdk_v{ç‰ˆæœ¬å·}.zip" | Select-Object Name, Length

# è§£å‹éªŒè¯å†…å®¹ï¼ˆå¯é€‰ï¼‰
Expand-Archive "release\anywp_web_sdk_v{ç‰ˆæœ¬å·}.zip" "release\temp_check" -Force
Get-ChildItem "release\temp_check" -Recurse | Select-Object FullName
```

**æ£€æŸ¥æ¸…å•**ï¼ˆè‡ªåŠ¨éªŒè¯ï¼‰ï¼š
- [ ] SDK æ–‡ä»¶ï¼š`sdk/anywp_sdk.js`
- [ ] 8ä¸ªç¤ºä¾‹æ–‡ä»¶ï¼š`examples/test_*.html`
- [ ] 3ä¸ªæ–‡æ¡£æ–‡ä»¶ï¼š`docs/WEB_DEVELOPER_GUIDE*.md`, `API_USAGE_EXAMPLES.md`
- [ ] README.md è‡ªåŠ¨ç”Ÿæˆï¼ˆåŒ…å«å¿«é€Ÿå¼€å§‹å’Œ API å‚è€ƒï¼‰
- [ ] LICENSE æ–‡ä»¶
- [ ] ZIP æ–‡ä»¶ç”ŸæˆæˆåŠŸï¼ˆ~56 KBï¼‰

#### 3.6 åˆ›å»º GitHub Release Notes
- [ ] å¤åˆ¶ `docs/RELEASE_TEMPLATE.md`
- [ ] ä¿®æ”¹ä¸º `release/GITHUB_RELEASE_NOTES_v{ç‰ˆæœ¬å·}.md`
- [ ] å¡«å†™å®Œæ•´çš„åŠŸèƒ½è¯´æ˜ã€ç¤ºä¾‹ã€æµ‹è¯•ç»“æœ
- [ ] åŒ…å«å‡çº§æŒ‡å—å’Œæ³¨æ„äº‹é¡¹

---

### é˜¶æ®µ 4ï¸âƒ£ï¼šGit æäº¤ä¸æ¨é€

#### 4.1 Git æäº¤
```bash
git add release/ CHANGELOG_CN.md pubspec.yaml docs/ README.md .cursorrules

# ä¸­æ–‡æäº¤ä¿¡æ¯ä½¿ç”¨æ–‡ä»¶æ–¹å¼ï¼ˆé¿å…ä¹±ç ï¼‰
write("commit_msg.txt", "release: å‘å¸ƒ v1.x.0 - åŠŸèƒ½æè¿°")
git commit -F commit_msg.txt
delete_file("commit_msg.txt")
```

**æ£€æŸ¥**:
- [ ] æ‰€æœ‰å‘å¸ƒç›¸å…³æ–‡ä»¶å·²æ·»åŠ 
- [ ] æäº¤ä¿¡æ¯æ¸…æ™°æè¿°ç‰ˆæœ¬å’ŒåŠŸèƒ½
- [ ] å·¥ä½œåŒºå¹²å‡€ï¼ˆ`git status` æ— æœªæäº¤ï¼‰

#### 4.2 æ¨é€åˆ° GitHub
```bash
# æ¨é€æ‰€æœ‰æäº¤
git push origin main
```

**æ³¨æ„**: 
- âŒ ä¸ä½¿ç”¨ `.\scripts\PUSH_TO_GITHUB.bat`ï¼ˆå·²åºŸå¼ƒï¼‰
- âœ… ç›´æ¥ä½¿ç”¨ `git push origin main`
- âš ï¸ ä¸­æ–‡æäº¤ä¿¡æ¯å·²é€šè¿‡ `-F commit_msg.txt` æ­£ç¡®å¤„ç†

**éªŒè¯**:
- [ ] æ¨é€æˆåŠŸæ— é”™è¯¯
- [ ] GitHub ç½‘é¡µå¯è§æœ€æ–°æäº¤

---

### é˜¶æ®µ 5ï¸âƒ£ï¼šGitHub Release å‘å¸ƒ

#### 5.1 åˆ›å»º Release
1. è®¿é—®: `https://github.com/zhaibin/AnyWallpaper-Engine/releases/new`
2. å¡«å†™ä¿¡æ¯:
   - **Tag**: `v{ç‰ˆæœ¬å·}` (ä¾‹å¦‚ v1.2.0)
   - **Target**: `main` branch
   - **Title**: `AnyWP Engine v{ç‰ˆæœ¬å·} - åŠŸèƒ½æè¿°`
   - **Description**: å¤åˆ¶ `release/GITHUB_RELEASE_NOTES_v{ç‰ˆæœ¬å·}.md` å†…å®¹
3. **ä¸Šä¼ æ–‡ä»¶ï¼ˆv1.3.1+ éœ€è¦ä¸Šä¼ ä¸¤ä¸ª ZIPï¼‰**:
   - â­ **å¿…é¡»**ï¼š`release/anywp_engine_v{ç‰ˆæœ¬å·}.zip` (Flutter æ’ä»¶åŒ…ï¼Œ~16 MB)
   - â­ **å¿…é¡»**ï¼š`release/anywp_web_sdk_v{ç‰ˆæœ¬å·}.zip` (Web SDK ç‹¬ç«‹åŒ…ï¼Œ~56 KB)
   - âš ï¸ **ä¸è¦é—æ¼ Web SDK åŒ…**ï¼šWeb å¼€å‘è€…ä¾èµ–è¿™ä¸ªè½»é‡çº§åŒ…
4. å‹¾é€‰ "Set as the latest release"
5. ç‚¹å‡» "Publish release"

**å‘å¸ƒåŒ…è¯´æ˜**ï¼š
- **Flutter Plugin åŒ…**ï¼šé¢å‘ Flutter å¼€å‘è€…ï¼ŒåŒ…å« DLLã€LIBã€æºç ã€æ–‡æ¡£
- **Web SDK åŒ…**ï¼šé¢å‘ Web å¼€å‘è€…ï¼Œä»…åŒ…å« JavaScript SDK + ç¤ºä¾‹ + æ–‡æ¡£

#### 5.2 å‘å¸ƒåéªŒè¯
- [ ] Release é¡µé¢æ˜¾ç¤ºæ­£å¸¸
- [ ] ZIP æ–‡ä»¶å¯ä¸‹è½½
- [ ] å‘å¸ƒè¯´æ˜æ ¼å¼æ­£ç¡®
- [ ] æ ‡ç­¾åˆ›å»ºæˆåŠŸ

---

### é˜¶æ®µ 6ï¸âƒ£ï¼šå‘å¸ƒåæ¸…ç†ï¼ˆå¯é€‰ï¼‰

#### 6.1 æ¸…ç†ä¸´æ—¶æ–‡ä»¶
```bash
# æ¸…ç†æ„å»ºæ—¥å¿—
Remove-Item build_release.log -ErrorAction SilentlyContinue
Remove-Item example/test_output.log -ErrorAction SilentlyContinue
Remove-Item debug_run.log -ErrorAction SilentlyContinue
```

#### 6.2 é€šçŸ¥ç”¨æˆ·ï¼ˆå¯é€‰ï¼‰
- åœ¨ç›¸å…³ç¤¾åŒº/è®ºå›å‘å¸ƒæ›´æ–°é€šçŸ¥
- æ›´æ–° pub.dev åŒ…ï¼ˆå¦‚æœå‘å¸ƒåˆ° pub.devï¼‰

---

## æ–‡æ¡£å®Œæ•´æ€§æ£€æŸ¥æ¸…å•

### æ–°å¢ API å‘å¸ƒå‰æ£€æŸ¥

å½“æ–°å¢ä»»ä½• Dart API æ–¹æ³•æ—¶ï¼Œ**å¿…é¡»**åœ¨ä»¥ä¸‹æ–‡æ¡£ä¸­æ·»åŠ ï¼š

1. **Dart æºç æ–‡æ¡£**:
   - [ ] `lib/anywp_engine.dart` - å®Œæ•´æ–‡æ¡£æ³¨é‡Š
   - [ ] å‚æ•°è¯´æ˜ã€è¿”å›å€¼ã€ä½¿ç”¨ç¤ºä¾‹

2. **README.md**:
   - [ ] Quick Start ç¤ºä¾‹ä»£ç ä¸­ä½¿ç”¨ï¼ˆå¦‚é€‚ç”¨ï¼‰
   - [ ] æˆ–åœ¨ç›¸å…³ç« èŠ‚ä¸­è¯´æ˜

3. **API å‚è€ƒ**:
   - [ ] `docs/DEVELOPER_API_REFERENCE.md` - æ–°å¢ç« èŠ‚æˆ–æ›´æ–°ç°æœ‰ç« èŠ‚
   - [ ] å®Œæ•´çš„å‚æ•°è¯´æ˜ã€è¿”å›å€¼ã€ç¤ºä¾‹ä»£ç 

4. **å¼€å‘è€…å¯¼èˆª**:
   - [ ] `docs/FOR_FLUTTER_DEVELOPERS.md` - åœ¨ API åˆ—è¡¨ä¸­æ·»åŠ 
   - [ ] å¦‚æœ‰é‡å¤§åŠŸèƒ½ï¼Œæ·»åŠ å¿«é€Ÿä¸Šæ‰‹ç¤ºä¾‹

5. **CHANGELOG**:
   - [ ] `CHANGELOG_CN.md` - åœ¨æ–°ç‰ˆæœ¬æ¡ç›®ä¸­è¯´æ˜
   - [ ] åŒ…å«ä½¿ç”¨ç¤ºä¾‹

**éªŒè¯å‘½ä»¤**:
```bash
# æœç´¢æ–° API æ˜¯å¦åœ¨æ ¸å¿ƒæ–‡æ¡£ä¸­
grep -r "æ–°APIåç§°" README.md lib/ docs/DEVELOPER_API_REFERENCE.md docs/FOR_FLUTTER_DEVELOPERS.md
```

### æ–°å¢åŠŸèƒ½å‘å¸ƒå‰æ£€æŸ¥

å½“æ–°å¢é‡å¤§åŠŸèƒ½æ—¶ï¼Œ**å¿…é¡»**ï¼š

1. **README.md**:
   - [ ] Features ç« èŠ‚æ–°å¢æ¡ç›®
   - [ ] å¦‚éœ€è¦ï¼Œæ–°å¢ä¸“é¢˜ç« èŠ‚ï¼ˆå¦‚ Storage Isolationï¼‰
   - [ ] å¿«é€Ÿå¼€å§‹ç¤ºä¾‹æ›´æ–°ï¼ˆå¦‚é€‚ç”¨ï¼‰

2. **CHANGELOG_CN.md**:
   - [ ] è¯¦ç»†çš„åŠŸèƒ½è¯´æ˜
   - [ ] å®Œæ•´çš„ä½¿ç”¨ç¤ºä¾‹
   - [ ] ä¼˜åŠ¿å’ŒæŠ€æœ¯ç»†èŠ‚

3. **å‘å¸ƒåŒ…æ–‡æ¡£**:
   - [ ] æ›´æ–°åçš„ README.md å¤åˆ¶åˆ°å‘å¸ƒåŒ…
   - [ ] æ›´æ–°åçš„ CHANGELOG_CN.md å¤åˆ¶åˆ°å‘å¸ƒåŒ…

4. **æµ‹è¯•éªŒè¯**:
   - [ ] æ–°åŠŸèƒ½åœ¨ç¤ºä¾‹åº”ç”¨ä¸­å¯æ¼”ç¤º
   - [ ] ç›¸å…³æµ‹è¯•é¡µé¢å¯ç”¨ï¼ˆexamples/ï¼‰

---

## AI å·¥ä½œæµè§„èŒƒ

### åŸºæœ¬åŸåˆ™
- **é»˜è®¤ä¸­æ–‡å›å¤**ï¼ˆæŠ€æœ¯æœ¯è¯­ä¿ç•™è‹±æ–‡ï¼‰
- **ç›´æ¥å®ç°**ï¼Œé¿å…å†—é•¿è§£é‡Š
- **è‡ªåŠ¨è°ƒè¯•**ï¼šç¼–è¯‘ã€è¿è¡Œã€è¯»æ—¥å¿—ã€ä¼˜åŒ–
- **è‡ªåŠ¨æäº¤**ï¼šåŠŸèƒ½å®Œæˆåè‡ªåŠ¨ git commit
- **ä¸åˆ›å»ºè¿‡ç¨‹æ€§æ–‡æ¡£**ï¼ˆæµ‹è¯•æŠ¥å‘Šã€éªŒè¯æŠ¥å‘Šç­‰ï¼‰

### Git æäº¤è§„èŒƒ

**æäº¤ä¿¡æ¯æ ¼å¼**:
```
<type>(<scope>): <subject>

<body>
```

**Type**:
- `feat` - æ–°åŠŸèƒ½
- `fix` - Bug ä¿®å¤
- `docs` - æ–‡æ¡£æ›´æ–°
- `refactor` - é‡æ„
- `chore` - æ‚é¡¹ï¼ˆæ¸…ç†ã€é…ç½®ç­‰ï¼‰
- `release` - å‘å¸ƒç‰ˆæœ¬

**ä¸­æ–‡æäº¤ï¼ˆå¿…é¡»ä½¿ç”¨æ–‡ä»¶æ–¹å¼ï¼‰**:
```bash
write("commit_msg.txt", "feat: æ·»åŠ æ–°åŠŸèƒ½\n\nè¯¦ç»†è¯´æ˜...")
git commit -F commit_msg.txt
delete_file("commit_msg.txt")
```

**ç¦æ­¢**: `git commit -m "ä¸­æ–‡ä¿¡æ¯"` âŒ ä¼šä¹±ç 

### PowerShell æ³¨æ„äº‹é¡¹

**åŸºæœ¬è§„åˆ™**:
- **ç¦æ­¢** `&&` æ“ä½œç¬¦ï¼Œä½¿ç”¨ `;` åˆ†éš”å¤šå‘½ä»¤
- **ç¦æ­¢** åœ¨å•è¡Œä¸­ä½¿ç”¨å¤æ‚çš„è„šæœ¬å—ï¼ˆ`{ }` åµŒå¥—ï¼‰
- **ç¦æ­¢** åœ¨ä¸­æ–‡å­—ç¬¦ä¸²ä¸­ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ï¼ˆ`"`ã€`'`ã€`{}`ï¼‰

**å¸¸è§é—®é¢˜**:

1. **ä¸­æ–‡å­—ç¬¦ä¸²ä¸­çš„å¼•å·é—®é¢˜**
```powershell
# âŒ é”™è¯¯ï¼šä¸­æ–‡ä¸­åŒ…å«å¼•å·
Write-Host "å‘ç° $($_.Count) å¤„æ–° API å¼•ç”¨ âœ“"  # âœ“ ä¼šå¯¼è‡´è§£æé”™è¯¯

# âœ… æ­£ç¡®ï¼šé¿å…åœ¨ä¸­æ–‡ä¸­ä½¿ç”¨ç‰¹æ®Šç¬¦å·
Write-Host "å‘ç° $($_.Count) å¤„æ–° API å¼•ç”¨"
```

2. **å¤æ‚è„šæœ¬å—è§£æå¤±è´¥**
```powershell
# âŒ é”™è¯¯ï¼šå•è¡Œå¤šå±‚åµŒå¥—
foreach ($item in $list) { if ($x) { Write-Host "..." } }

# âœ… æ­£ç¡®ï¼šä½¿ç”¨ç®€å•å‘½ä»¤æˆ–æ‰¹å¤„ç†è„šæœ¬
Get-ChildItem | Where-Object Name -like "*.dll"
```

3. **è½¬ä¹‰å­—ç¬¦é—®é¢˜**
```powershell
# âŒ é”™è¯¯ï¼šæœªè½¬ä¹‰çš„ç‰¹æ®Šå­—ç¬¦
"åŒ…å« { æˆ– } çš„å­—ç¬¦ä¸²"

# âœ… æ­£ç¡®ï¼šé¿å…ä½¿ç”¨æˆ–æ­£ç¡®è½¬ä¹‰
"åŒ…å«èŠ±æ‹¬å·çš„å­—ç¬¦ä¸²"
```

**æ¨èåšæ³•**:
- âœ… ä¼˜å…ˆä½¿ç”¨æ‰¹å¤„ç†è„šæœ¬ï¼ˆ.batï¼‰å¤„ç†å¤æ‚é€»è¾‘
- âœ… PowerShell åªç”¨äºç®€å•å‘½ä»¤ï¼ˆGet-ChildItem, Test-Path, Copy-Itemï¼‰
- âœ… éªŒè¯æµç¨‹ä½¿ç”¨ grep å·¥å…·ä»£æ›¿ PowerShell è„šæœ¬
- âœ… ç”Ÿæˆè„šæœ¬/æ¨¡æ¿æ—¶ä½¿ç”¨ `Get-Content -Raw` + `[System.Text.UTF8Encoding]::new($false)`ï¼Œé¿å… BOM å’Œæ¢è¡Œä¸¢å¤±

---

## å®Œæ•´å‘ç‰ˆæµç¨‹ï¼ˆä¸¥æ ¼éµå®ˆï¼‰

### ğŸ“‹ å‘ç‰ˆæ£€æŸ¥æ¸…å•

#### Step 1: ç‰ˆæœ¬å·æ›´æ–°
- [ ] `pubspec.yaml`: `version: 1.x.0`
- [ ] `scripts/build_release_v2.bat`: `VERSION=1.x.0`
- [ ] `.cursorrules` åº•éƒ¨: `ç‰ˆæœ¬: 1.x.0`

#### Step 2: CHANGELOG æ›´æ–°
- [ ] æ·»åŠ æ–°ç‰ˆæœ¬æ¡ç›®ï¼š`## [4.x.0] - YYYY-MM-DD - æ ‡é¢˜`
- [ ] âœ¨ æ–°å¢åŠŸèƒ½ï¼ˆè¯¦ç»†è¯´æ˜ + ç¤ºä¾‹ï¼‰
- [ ] ğŸ”„ é‡æ„æ”¹è¿›ï¼ˆå¦‚æœ‰ï¼‰
- [ ] ğŸ“š æ–‡æ¡£æ›´æ–°
- [ ] ğŸ¯ ä½¿ç”¨ç¤ºä¾‹
- [ ] ğŸ”§ æŠ€æœ¯ç»†èŠ‚ï¼ˆé‡å¤§æ”¹åŠ¨ï¼‰

#### Step 3: æ ¸å¿ƒæ–‡æ¡£åŒæ­¥
**æ–°å¢ API**:
- [ ] `lib/anywp_engine.dart` - æ–‡æ¡£æ³¨é‡Š
- [ ] `README.md` - ç¤ºä¾‹ä»£ç 
- [ ] `docs/DEVELOPER_API_REFERENCE.md` - API ç« èŠ‚
- [ ] `docs/FOR_FLUTTER_DEVELOPERS.md` - API åˆ—è¡¨

**æ–°å¢åŠŸèƒ½**:
- [ ] `README.md` - Features ç« èŠ‚
- [ ] `README.md` - ä¸“é¢˜ç« èŠ‚ï¼ˆå¦‚éœ€è¦ï¼‰

**éªŒè¯**:
```bash
grep -r "æ–°API" README.md lib/ docs/DEVELOPER_API_REFERENCE.md
```

#### Step 4: ç¼–è¯‘æµ‹è¯•
```bash
# Debug æµ‹è¯•
cd example
flutter clean
flutter build windows --debug
# è¿è¡Œæµ‹è¯•éªŒè¯åŠŸèƒ½

# Release æ„å»º
flutter build windows --release
```
- [ ] Debug æ„å»ºæˆåŠŸ
- [ ] Release æ„å»ºæˆåŠŸ
- [ ] åŠŸèƒ½æµ‹è¯•é€šè¿‡
- [ ] æ— å†…å­˜æ³„æ¼
- [ ] âš ï¸ **éªŒè¯ .lib æ–‡ä»¶å·²ç”Ÿæˆ**ï¼š`example\build\windows\x64\plugins\anywp_engine\Release\anywp_engine_plugin.lib`

#### Step 5: æ„å»ºå‘å¸ƒåŒ…
```bash
.\scripts\build_release_v2.bat
```
- [ ] æ„å»ºæˆåŠŸ
- [ ] ç›®å½•ç»“æ„å®Œæ•´
- [ ] DLL æ–‡ä»¶æ­£ç¡®

#### Step 6: å‘å¸ƒåŒ…å®Œæ•´æ€§éªŒè¯ï¼ˆâš ï¸ å…³é”®æ­¥éª¤ï¼‰

**6.1 å…³é”®æ–‡ä»¶éªŒè¯ï¼ˆå¿…é¡»å…¨éƒ¨é€šè¿‡ï¼‰**:

```powershell
# âš ï¸ è¿™äº›æ–‡ä»¶ç¼ºå¤±ä¼šå¯¼è‡´å®¢æˆ·é›†æˆå¤±è´¥
Test-Path "release\anywp_engine_v{ç‰ˆæœ¬å·}\bin\anywp_engine_plugin.dll"    # å¿…éœ€
Test-Path "release\anywp_engine_v{ç‰ˆæœ¬å·}\bin\WebView2Loader.dll"          # å¿…éœ€
Test-Path "release\anywp_engine_v{ç‰ˆæœ¬å·}\lib\anywp_engine_plugin.lib"     # å¿…éœ€ï¼ˆæœ€æ˜“é—æ¼ï¼ï¼‰
Test-Path "release\anywp_engine_v{ç‰ˆæœ¬å·}\lib\anywp_engine.dart"           # å¿…éœ€ï¼ˆæ ‡å‡†ä½ç½®ï¼‰
Test-Path "release\anywp_engine_v{ç‰ˆæœ¬å·}\lib\dart\anywp_engine.dart"      # å¿…éœ€ï¼ˆå‘åå…¼å®¹ï¼‰
Test-Path "release\anywp_engine_v{ç‰ˆæœ¬å·}\include\anywp_engine\any_w_p_engine_plugin.h"  # å¿…éœ€
Test-Path "release\anywp_engine_v{ç‰ˆæœ¬å·}\sdk\anywp_sdk.js"                # å¿…éœ€
Test-Path "release\anywp_engine_v{ç‰ˆæœ¬å·}\windows\CMakeLists.txt"          # å¿…éœ€
```

**âŒ å¦‚æœä»»ä½•æ–‡ä»¶è¿”å› False**:
1. **åœæ­¢å‘å¸ƒæµç¨‹**
2. æ‰‹åŠ¨å¤åˆ¶ç¼ºå¤±æ–‡ä»¶ï¼ˆä¸´æ—¶ä¿®å¤ï¼‰
3. è°ƒæŸ¥ `build_release_v2.bat` ä¸ºä½•æœªå¤åˆ¶
4. ä¿®å¤æ„å»ºè„šæœ¬å¹¶è®°å½•é—®é¢˜

**6.2 æ–‡æ¡£éªŒè¯**ï¼ˆä½¿ç”¨ grepï¼‰:

```bash
# 1. æ£€æŸ¥ README.md åŒ…å«æ–° API
grep "setApplicationName\|getStoragePath" release/anywp_engine_v{ç‰ˆæœ¬å·}/README.md

# 2. æ£€æŸ¥ CHANGELOG åŒ…å«æ–°ç‰ˆæœ¬
grep "4\.4\.0.*2025-11-06" release/anywp_engine_v{ç‰ˆæœ¬å·}/CHANGELOG_CN.md

# 3. æ£€æŸ¥ç‰ˆæœ¬å·
grep "version.*1\.2\.0" release/anywp_engine_v{ç‰ˆæœ¬å·}/pubspec.yaml

# 4. æ£€æŸ¥ Dart æºç åŒ…å«æ–° APIï¼ˆæ ‡å‡†ä½ç½®ï¼‰
grep "setApplicationName\|getStoragePath" release/anywp_engine_v{ç‰ˆæœ¬å·}/lib/anywp_engine.dart
```

**æ£€æŸ¥æ¸…å•**:
- [ ] README.md åŒ…å«æ–°åŠŸèƒ½ï¼ˆgrep æ‰¾åˆ°åŒ¹é…ï¼‰
- [ ] CHANGELOG_CN.md åŒ…å«æ–°ç‰ˆæœ¬ï¼ˆgrep æ‰¾åˆ°åŒ¹é…ï¼‰
- [ ] pubspec.yaml ç‰ˆæœ¬å·æ­£ç¡®ï¼ˆgrep æ‰¾åˆ°ç‰ˆæœ¬å·ï¼‰
- [ ] lib/anywp_engine.dart åŒ…å«æ–° APIï¼ˆgrep æ‰¾åˆ°åŒ¹é…ï¼‰

**6.3 æ•™è®­ï¼ˆv1.2.0 äº‹æ•…ï¼‰**:
- âŒ **é—®é¢˜**: ç¼ºå°‘ .lib æ–‡ä»¶ â†’ å®¢æˆ·é“¾æ¥å¤±è´¥ `LNK1104`
- âŒ **åŸå› **: æ„å»ºè„šæœ¬åªæ˜¾ç¤ºè­¦å‘Šï¼Œæœªä¸­æ­¢æ„å»º
- âœ… **ä¿®å¤**: æ‰€æœ‰å…³é”®æ–‡ä»¶å¤åˆ¶å¤±è´¥æ”¹ä¸ºé”™è¯¯çº§åˆ«
- ğŸ“ **ç»“è®º**: é¢„ç¼–è¯‘åŒ…éªŒè¯å¿…é¡»è‡ªåŠ¨åŒ–ä¸”ä¸¥æ ¼

#### Step 7: åˆ›å»º Release Notes
- [ ] å¤åˆ¶ `docs/RELEASE_TEMPLATE.md`
- [ ] å¦å­˜ä¸º `release/GITHUB_RELEASE_NOTES_v{ç‰ˆæœ¬å·}.md`
- [ ] å¡«å†™å®Œæ•´å†…å®¹ï¼š
  - å‘å¸ƒäº®ç‚¹
  - æ–°å¢åŠŸèƒ½ï¼ˆè¯¦ç»†è¯´æ˜ + ä»£ç ç¤ºä¾‹ï¼‰
  - é‡æ„æ”¹è¿›
  - ä½¿ç”¨ç¤ºä¾‹
  - å‡çº§æŒ‡å—
  - æµ‹è¯•ç»“æœ

#### Step 8: Git æäº¤
```bash
git add release/ CHANGELOG_CN.md pubspec.yaml docs/ README.md .cursorrules

write("commit_msg.txt", "release: å‘å¸ƒ v1.x.0 - åŠŸèƒ½æè¿°")
git commit -F commit_msg.txt
delete_file("commit_msg.txt")
```
- [ ] æäº¤æˆåŠŸ
- [ ] å·¥ä½œåŒºå¹²å‡€

#### Step 9: æ¨é€åˆ° GitHub
```bash
# æ¨é€ä»£ç 
git push origin main
```
- [ ] æ¨é€æˆåŠŸ
- [ ] GitHub å¯è§æœ€æ–°æäº¤

#### Step 9.5: åˆ›å»ºå¹¶æ¨é€ Git Tagï¼ˆé‡è¦ï¼ï¼‰
```bash
# åˆ›å»º annotated tag
git tag -a v{ç‰ˆæœ¬å·} -m "AnyWP Engine v{ç‰ˆæœ¬å·} - åŠŸèƒ½æè¿°"

# éªŒè¯ tag åˆ›å»º
git tag -l

# æ¨é€ tag åˆ° GitHub
git push origin v{ç‰ˆæœ¬å·}
```

**å»ºè®®**:
- Tag æè¿°å°½é‡ä½¿ç”¨ ASCII æ–‡æœ¬ï¼›è‹¥éœ€åŒ…å«ä¸­æ–‡ï¼Œè¯·å…ˆåœ¨ä»“åº“æ ¹ç›®å½•æ‰§è¡Œ `cmd /c "echo AnyWP Engine v{ç‰ˆæœ¬å·} - desc>tag_msg.txt"`ï¼Œå†è¿è¡Œ `git tag -a v{ç‰ˆæœ¬å·} -F tag_msg.txt`
- æ‰€æœ‰ Git å‘½ä»¤å‡åœ¨ä»“åº“æ ¹ç›®å½•æ‰§è¡Œï¼Œé¿å…ç›¸å¯¹è·¯å¾„å¯¼è‡´ `Copy-Item`/`Compress-Archive` æ‰¾ä¸åˆ°ç›®æ ‡

**ç¤ºä¾‹**ï¼ˆv1.2.0ï¼‰:
```bash
git tag -a v1.2.0 -m "AnyWP Engine v1.2.0 - åº”ç”¨çº§å­˜å‚¨éš”ç¦» + æµ‹è¯•UIä¼˜åŒ–"
git push origin v1.2.0
```

**æ£€æŸ¥**:
- [ ] Tag åˆ›å»ºæˆåŠŸï¼ˆ`git tag -l` å¯è§ï¼‰
- [ ] Tag æ¨é€æˆåŠŸï¼ˆæ˜¾ç¤º `[new tag]`ï¼‰
- [ ] GitHub Tags é¡µé¢å¯è§æ–° tag

**æ³¨æ„**: âš ï¸ **å¿…é¡»å…ˆæ¨é€ tagï¼ŒGitHub Release æ‰èƒ½åŸºäº tag åˆ›å»º**

#### Step 10: åˆ›å»º GitHub Release
1. [ ] è®¿é—® GitHub Releases é¡µé¢
2. [ ] åˆ›å»ºæ–° Release
   - Tag: `v{ç‰ˆæœ¬å·}`
   - Title: `AnyWP Engine v{ç‰ˆæœ¬å·} - åŠŸèƒ½æè¿°`
   - Description: å¤åˆ¶ `release/GITHUB_RELEASE_NOTES_v{ç‰ˆæœ¬å·}.md`
3. [ ] ä¸Šä¼  ZIP: `release/anywp_engine_v{ç‰ˆæœ¬å·}.zip`
4. [ ] å‹¾é€‰ "Set as the latest release"
5. [ ] å‘å¸ƒæˆåŠŸ

#### Step 11: å‘å¸ƒåéªŒè¯
- [ ] Release é¡µé¢å¯è®¿é—®
- [ ] ZIP æ–‡ä»¶å¯ä¸‹è½½
- [ ] æ–‡æ¡£æ ¼å¼æ­£ç¡®
- [ ] æ ‡ç­¾åˆ›å»ºæˆåŠŸ

---

## æ–‡æ¡£ç»´æŠ¤åŸåˆ™

### âœ… å¿…é¡»ä¿ç•™çš„æ–‡æ¡£

**æ ¹ç›®å½•** (3ä¸ª):
- `README.md` - é¡¹ç›®ä¸»é¡µ + å®Œæ•´æŒ‡å—
- `CHANGELOG_CN.md` - æ›´æ–°æ—¥å¿—
- `QUICK_INTEGRATION.md` - å¿«é€Ÿé›†æˆ

**docs/** (22ä¸ª):
- Flutter å¼€å‘è€…æ–‡æ¡£
- Web å¼€å‘è€…æ–‡æ¡£
- æŠ€æœ¯æ–‡æ¡£
- æœ€ä½³å®è·µ

**å‘å¸ƒç›¸å…³**:
- `release/GITHUB_RELEASE_NOTES_v{ç‰ˆæœ¬å·}.md` - æ¯ä¸ªç‰ˆæœ¬çš„å‘å¸ƒè¯´æ˜

### âŒ ç¦æ­¢åˆ›å»ºçš„æ–‡æ¡£

**è¿‡ç¨‹æ€§æ–‡æ¡£**:
- âŒ `TEST_REPORT.md`
- âŒ `VERIFICATION_REPORT.md`
- âŒ `CHECKLIST.md`
- âŒ `SUMMARY.md`

**åŸåˆ™**: æµ‹è¯•ã€éªŒè¯ç­‰è¿‡ç¨‹åœ¨ä»£ç ä¸­å®Œæˆï¼Œä¸ç”ŸæˆæŠ¥å‘Šæ–‡æ¡£

---

## å¸¸ç”¨å‘½ä»¤

**è„šæœ¬ç›®å½•**: `scripts/` (10ä¸ªè„šæœ¬ï¼Œå…¨è‹±æ–‡ï¼Œæ— ç¼–ç é—®é¢˜)  
**å®Œæ•´æ–‡æ¡£**: `docs/SCRIPTS_REFERENCE.md`

```bash
# å¼€å‘
.\scripts\build.bat       # æ„å»ºå¹¶è¿è¡Œ
.\scripts\run.bat         # å¿«é€Ÿè¿è¡Œ
.\scripts\debug.bat       # è°ƒè¯•æ¨¡å¼

# æµ‹è¯•
.\scripts\test_full.bat   # å…¨é¢æµ‹è¯• (æ€§èƒ½ç›‘æ§)
.\scripts\analyze.ps1     # åˆ†ææµ‹è¯•ç»“æœ
.\scripts\verify.bat      # éªŒè¯ä¼˜åŒ–å®ç°

# SDK
cd windows\sdk && npm run build     # æ„å»º Web SDK
cd windows\sdk && npm test          # TypeScript å•å…ƒæµ‹è¯•
cd windows\test && run_tests.bat    # C++ å•å…ƒæµ‹è¯•

# å‘å¸ƒ
.\scripts\release.bat     # æ„å»º Release åŒ…
git push origin main      # æ¨é€åˆ° GitHub
```

**ğŸš« è„šæœ¬æ”¿ç­–** (v1.3.2+):
- **ç¦æ­¢æ–°å¢è„šæœ¬**: è„šæœ¬é›†åˆå·²å®Œæ•´ç¨³å®š
- **æ·»åŠ åŠŸèƒ½**: æ‰©å±•ç°æœ‰è„šæœ¬æˆ–æ·»åŠ å‚æ•°
- **ç‰¹æ®Šæƒ…å†µ**: å¿…é¡»è·æ‰¹å‡†å¹¶æ›´æ–°æ–‡æ¡£
- **åŸåˆ™**: ä¿æŒç®€æ´ï¼Œé¿å…é‡å¤

---

## ä»£ç æ¶æ„ (v1.3.2+)

### C++ æ¨¡å—åŒ–è®¾è®¡

**é‡æ„ç›®æ ‡**: å°† 4000+ è¡Œçš„å•æ–‡ä»¶é‡æ„ä¸ºå¤šä¸ªèŒè´£æ˜ç¡®çš„æ¨¡å—ï¼Œæé«˜å¯ç»´æŠ¤æ€§å’Œå¯æµ‹è¯•æ€§ã€‚

**æ¨¡å—åˆ†ç±»**:

#### å·¥å…·ç±» (`windows/utils/`)
- `StatePersistence` - åº”ç”¨çº§çŠ¶æ€æŒä¹…åŒ–ï¼ˆé”®å€¼å¯¹å­˜å‚¨ï¼‰
- `URLValidator` - URL ç™½åå•/é»‘åå•éªŒè¯
- `Logger` - ç»Ÿä¸€æ—¥å¿—è®°å½•æ¥å£ï¼ˆå¤šçº§åˆ«ã€çº¿ç¨‹å®‰å…¨ v4.9.0+ï¼‰

#### åŠŸèƒ½æ¨¡å— (`windows/modules/`)
- `IframeDetector` - iframe è¾¹ç•Œæ£€æµ‹ä¸åæ ‡æ˜ å°„
- `SDKBridge` - JavaScript SDK æ³¨å…¥ä¸æ¶ˆæ¯æ¡¥æ¥
- `MouseHookManager` - é¼ æ ‡é’©å­ç®¡ç†ï¼ˆå®Œæ•´å®ç° + é”™è¯¯å¤„ç† v4.9.0+ï¼‰
- `MonitorManager` - å¤šæ˜¾ç¤ºå™¨æšä¸¾ä¸å˜æ›´ç›‘å¬ï¼ˆå®Œæ•´å®ç° + é”™è¯¯å¤„ç† v4.9.0+ï¼‰
- `PowerManager` - çœç”µä¼˜åŒ–ä¸æ€§èƒ½ç®¡ç†ï¼ˆå®Œæ•´å®ç° + é”™è¯¯å¤„ç† v4.9.0+ï¼‰

#### æµ‹è¯•æ¡†æ¶ (`windows/test/` v4.9.0+)
- `test_framework.h` - è½»é‡çº§ C++ å•å…ƒæµ‹è¯•æ¡†æ¶
- `unit_tests.cpp` - æ¨¡å—æµ‹è¯•ç”¨ä¾‹
- `CMakeLists.txt` - æµ‹è¯•æ„å»ºé…ç½®

**è®¾è®¡åŸåˆ™**:
1. **å•ä¸€èŒè´£**: æ¯ä¸ªæ¨¡å—åªè´Ÿè´£ä¸€ä¸ªæ ¸å¿ƒåŠŸèƒ½
2. **ä½è€¦åˆ**: æ¨¡å—ä¹‹é—´é€šè¿‡æ¥å£äº¤äº’ï¼Œå‡å°‘ä¾èµ–
3. **æ˜“æµ‹è¯•**: ç‹¬ç«‹æ¨¡å—ä¾¿äºå•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
4. **å‘åå…¼å®¹**: é‡æ„ä¸æ”¹å˜å¤–éƒ¨ API è¡Œä¸º

**æ·»åŠ æ–°æ¨¡å—æ­¥éª¤**:
1. åˆ›å»º `windows/modules/module_name.h/cpp` æˆ– `windows/utils/utility_name.h/cpp`
2. å®ç°åŠŸèƒ½å¹¶éµå¾ªå‘½åè§„èŒƒ
3. æ·»åŠ é”™è¯¯å¤„ç†ï¼ˆtry-catchï¼‰å’Œæ—¥å¿—è®°å½•ï¼ˆLogger::Instance()ï¼‰
4. æ›´æ–° `windows/CMakeLists.txt`ï¼Œæ·»åŠ æºæ–‡ä»¶åˆ° `add_library`
5. åœ¨ä¸»æ’ä»¶æ–‡ä»¶ä¸­å¼•å…¥å¹¶ä½¿ç”¨æ¨¡å—
6. æ·»åŠ å•å…ƒæµ‹è¯•åˆ° `windows/test/unit_tests.cpp`
7. è¿è¡Œæµ‹è¯•éªŒè¯åŠŸèƒ½

**é”™è¯¯å¤„ç†æœ€ä½³å®è·µ** (v4.9.0+):
```cpp
try {
  // æ ¸å¿ƒé€»è¾‘
  if (callback_) {
    try {
      callback_(result);
    } catch (const std::exception& e) {
      Logger::Instance().Error("Module", 
        "Callback failed: " + std::string(e.what()));
    }
  }
} catch (const std::exception& e) {
  Logger::Instance().Error("Module", 
    "Operation failed: " + std::string(e.what()));
  return false;
}
```

**å•å…ƒæµ‹è¯•ç¤ºä¾‹** (v4.9.0+):
```cpp
TEST_SUITE(YourModule) {
  TEST_CASE(basic_functionality) {
    YourModule module;
    ASSERT_TRUE(module.Initialize());
    ASSERT_EQUAL(expected, module.GetState());
  }
}
```

---

## æ ¸å¿ƒç‰¹æ€§

### å­˜å‚¨ç³»ç»Ÿ (v1.2.0+)
- **åº”ç”¨çº§éš”ç¦»**: æ¯ä¸ªåº”ç”¨ç‹¬ç«‹ç›®å½• `%LOCALAPPDATA%\AnyWPEngine\[AppName]\`
- **æ— æ®‹ç•™å¸è½½**: åˆ é™¤åº”ç”¨ç›®å½•å³å¯
- **å‘åå…¼å®¹**: é»˜è®¤ä½¿ç”¨ "Default" åº”ç”¨å

### æµ‹è¯•é¡µé¢ (examples/)
- ğŸ¨ Simple - åŸºç¡€æµ‹è¯•
- ğŸ–±ï¸ Draggable - æ‹–æ‹½æ¼”ç¤º
- âš™ï¸ API Test - å®Œæ•´ API
- ğŸ‘† Click Test - ç‚¹å‡»æ£€æµ‹
- ğŸ‘ï¸ Visibility - çœç”µæµ‹è¯•
- âš›ï¸ React / ğŸ’š Vue - SPA æµ‹è¯•
- ğŸ“º iFrame Ads - å¹¿å‘Šæ£€æµ‹

---

**ç‰ˆæœ¬**: 1.3.2-dev (Changelog: 4.9.0) | **æ›´æ–°**: 2025-11-08 | **é‡è¦**: 
- C++ ä»£ç æ¨¡å—åŒ–é‡æ„å®Œæˆ - æ ¸å¿ƒæ’ä»¶æ–‡ä»¶ä» 4000+ è¡Œæ‹†åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹æ¨¡å—
- **TypeScript SDK è¿ç§»å®Œæˆ** - 100% TypeScript é‡å†™ï¼Œ118 ä¸ªå•å…ƒæµ‹è¯•ï¼Œ96.6% é€šè¿‡ç‡
- **C++ ä¼˜åŒ–å®Œæˆ** (v4.9.0) - é”™è¯¯å¤„ç†ã€æ—¥å¿—ç³»ç»Ÿã€å›è°ƒä¼˜åŒ–ã€å•å…ƒæµ‹è¯•æ¡†æ¶
