<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>æ˜¾ç¤ºå™¨ä¿¡æ¯è¯Šæ–­</title>
  <style>
    body {
      margin: 0;
      padding: 20px;
      font-family: 'Courier New', monospace;
      background: #0a0a0a;
      color: #00ff00;
      line-height: 1.8;
    }
    
    h1 {
      color: #ffeb3b;
      border-bottom: 2px solid #ffeb3b;
      padding-bottom: 10px;
    }
    
    h2 {
      color: #4CAF50;
      margin-top: 30px;
    }
    
    .section {
      background: #1a1a1a;
      padding: 15px;
      margin: 15px 0;
      border-left: 4px solid #4CAF50;
      border-radius: 4px;
    }
    
    .value {
      color: #ff5722;
      font-weight: bold;
    }
    
    .mouse-tracker {
      position: fixed;
      top: 10px;
      right: 10px;
      background: rgba(0,0,0,0.9);
      padding: 20px;
      border: 2px solid #ffeb3b;
      border-radius: 8px;
      min-width: 300px;
    }
    
    table {
      border-collapse: collapse;
      width: 100%;
      margin: 15px 0;
    }
    
    th, td {
      border: 1px solid #333;
      padding: 10px;
      text-align: left;
    }
    
    th {
      background: #1a1a1a;
      color: #ffeb3b;
    }
  </style>
</head>
<body>
  <h1>ğŸ–¥ï¸ æ˜¾ç¤ºå™¨é…ç½®è¯Šæ–­å·¥å…·</h1>
  
  <div class="mouse-tracker">
    <h3 style="margin: 0 0 10px 0; color: #ffeb3b;">ğŸ–±ï¸ å®æ—¶é¼ æ ‡ä½ç½®</h3>
    <div id="mousePos">ç­‰å¾…ç§»åŠ¨...</div>
  </div>
  
  <div class="section">
    <h2>ğŸ’» æµè§ˆå™¨çª—å£ä¿¡æ¯</h2>
    <table>
      <tr>
        <th>å±æ€§</th>
        <th>å€¼</th>
      </tr>
      <tr>
        <td>window.screen.width</td>
        <td class="value" id="screenWidth"></td>
      </tr>
      <tr>
        <td>window.screen.height</td>
        <td class="value" id="screenHeight"></td>
      </tr>
      <tr>
        <td>window.screen.availWidth</td>
        <td class="value" id="availWidth"></td>
      </tr>
      <tr>
        <td>window.screen.availHeight</td>
        <td class="value" id="availHeight"></td>
      </tr>
      <tr>
        <td>window.innerWidth</td>
        <td class="value" id="innerWidth"></td>
      </tr>
      <tr>
        <td>window.innerHeight</td>
        <td class="value" id="innerHeight"></td>
      </tr>
      <tr>
        <td>window.screenX</td>
        <td class="value" id="screenX"></td>
      </tr>
      <tr>
        <td>window.screenY</td>
        <td class="value" id="screenY"></td>
      </tr>
      <tr>
        <td>window.devicePixelRatio</td>
        <td class="value" id="dpr"></td>
      </tr>
    </table>
  </div>
  
  <div class="section">
    <h2>ğŸ¯ AnyWP SDK ä¿¡æ¯</h2>
    <div id="sdkInfo">åŠ è½½ä¸­...</div>
  </div>
  
  <div class="section">
    <h2>ğŸ“Š C++ åç«¯æ˜¾ç¤ºå™¨ä¿¡æ¯</h2>
    <div id="backendInfo">åŠ è½½ä¸­...</div>
  </div>
  
  <div class="section">
    <h2>ğŸ” åæ ‡è½¬æ¢æµ‹è¯•</h2>
    <div>
      <p>ç§»åŠ¨é¼ æ ‡åˆ°å±å¹•ä¸åŒä½ç½®ï¼Œè§‚å¯Ÿåæ ‡å˜åŒ–ï¼š</p>
      <ul>
        <li>å·¦ä¸Šè§’åº”è¯¥æ¥è¿‘ (0, 0)</li>
        <li>å¦‚æœæœ‰å¤šæ˜¾ç¤ºå™¨ï¼Œåæ ‡èŒƒå›´ä¼šè¶…è¿‡å•ä¸ªæ˜¾ç¤ºå™¨çš„åˆ†è¾¨ç‡</li>
        <li>è§‚å¯Ÿé¼ æ ‡åœ¨ä¸åŒæ˜¾ç¤ºå™¨ä¸Šçš„åæ ‡</li>
      </ul>
    </div>
  </div>
  
  <script>
    // æ˜¾ç¤ºçª—å£ä¿¡æ¯
    function updateWindowInfo() {
      document.getElementById('screenWidth').textContent = window.screen.width;
      document.getElementById('screenHeight').textContent = window.screen.height;
      document.getElementById('availWidth').textContent = window.screen.availWidth;
      document.getElementById('availHeight').textContent = window.screen.availHeight;
      document.getElementById('innerWidth').textContent = window.innerWidth;
      document.getElementById('innerHeight').textContent = window.innerHeight;
      document.getElementById('screenX').textContent = window.screenX;
      document.getElementById('screenY').textContent = window.screenY;
      document.getElementById('dpr').textContent = window.devicePixelRatio;
    }
    
    updateWindowInfo();
    
    // ç­‰å¾… SDK
    function waitForAnyWP() {
      if (window.AnyWP) {
        const sdkInfo = document.getElementById('sdkInfo');
        sdkInfo.innerHTML = `
          <table>
            <tr><th>å±æ€§</th><th>å€¼</th></tr>
            <tr><td>SDK ç‰ˆæœ¬</td><td class="value">${AnyWP.version}</td></tr>
            <tr><td>screenWidth</td><td class="value">${AnyWP.screenWidth}</td></tr>
            <tr><td>screenHeight</td><td class="value">${AnyWP.screenHeight}</td></tr>
            <tr><td>dpiScale</td><td class="value">${AnyWP.dpiScale}</td></tr>
            <tr><td>interactionEnabled</td><td class="value">${AnyWP.interactionEnabled}</td></tr>
          </table>
        `;
        
        // ç›‘å¬é¼ æ ‡
        let eventCount = 0;
        window.addEventListener('AnyWP:mouse', function(event) {
          const detail = event.detail;
          eventCount++;
          
          if (detail.type === 'mousemove') {
            const mousePos = document.getElementById('mousePos');
            mousePos.innerHTML = `
              <div style="margin: 5px 0;">
                <strong>åŸå§‹åæ ‡:</strong><br>
                x = <span class="value">${detail.x}</span><br>
                y = <span class="value">${detail.y}</span>
              </div>
              <div style="margin: 5px 0;">
                <strong>è½¬æ¢å (CSS):</strong><br>
                x = <span class="value">${(detail.x / AnyWP.dpiScale).toFixed(1)}</span><br>
                y = <span class="value">${(detail.y / AnyWP.dpiScale).toFixed(1)}</span>
              </div>
              <div style="margin: 5px 0; color: #888;">
                äº‹ä»¶è®¡æ•°: ${eventCount}
              </div>
            `;
          }
        });
        
        console.log('âœ… AnyWP SDK å·²åŠ è½½');
      } else {
        setTimeout(waitForAnyWP, 100);
      }
    }
    
    // æ˜¾ç¤ºåç«¯ä¿¡æ¯ï¼ˆéœ€è¦ä»æ—¥å¿—è¯»å–ï¼‰
    document.getElementById('backendInfo').innerHTML = `
      <p>è¯·æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—ä¸­çš„æ˜¾ç¤ºå™¨ä¿¡æ¯ï¼š</p>
      <pre style="background:#000; padding:10px; border-radius:4px;">
æœç´¢æ—¥å¿—å…³é”®è¯:
- "Found X monitor(s)"
- "MonitorInfo"
- "Monitor 0 bounds"
      </pre>
    `;
    
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', waitForAnyWP);
    } else {
      waitForAnyWP();
    }
  </script>
</body>
</html>


