# AnyWP Engine - è„šæœ¬è¯´æ˜

æ‰€æœ‰è„šæœ¬å·²ä¼˜åŒ–ï¼Œæ”¯æŒä¸­æ–‡è¾“å‡ºï¼ˆUTF-8 ç¼–ç ï¼‰ã€‚

---

## ğŸ“‹ è„šæœ¬æ¸…å•

### ğŸ”¨ å¼€å‘è„šæœ¬

#### `build_and_run.bat` â­ æ¨è
**ç”¨é€”**: æ„å»ºå¹¶è¿è¡Œç¤ºä¾‹åº”ç”¨ï¼ˆæ—¥å¸¸å¼€å‘æœ€å¸¸ç”¨ï¼‰  
**åŠŸèƒ½**:
- è‡ªåŠ¨æ£€æŸ¥å¹¶å®‰è£… WebView2 SDK
- æ„å»º Debug ç‰ˆæœ¬
- å¯åŠ¨åº”ç”¨

**ä½¿ç”¨**:
```bash
.\scripts\build_and_run.bat
```

**é€‚ç”¨åœºæ™¯**: æ—¥å¸¸å¼€å‘æµ‹è¯•

---

#### `test.bat` â­ æ¨è
**ç”¨é€”**: å¿«é€Ÿæµ‹è¯•ï¼ˆæ— éœ€é‡æ–°æ„å»ºï¼‰  
**åŠŸèƒ½**:
- è‡ªåŠ¨æ£€æµ‹å·²ç¼–è¯‘ç‰ˆæœ¬ï¼ˆä¼˜å…ˆ Releaseï¼Œå…¶æ¬¡ Debugï¼‰
- ç›´æ¥è¿è¡Œï¼ŒèŠ‚çœæ—¶é—´

**ä½¿ç”¨**:
```bash
.\scripts\test.bat
```

**é€‚ç”¨åœºæ™¯**: å¿«é€ŸéªŒè¯åŠŸèƒ½ï¼Œä»£ç æœªæ”¹åŠ¨æ—¶

---

#### `run.bat`
**ç”¨é€”**: çµæ´»è¿è¡Œå·¥å…·ï¼ˆæ”¯æŒå‚æ•°é€‰é¡¹ï¼‰  
**å‚æ•°**:
- `-d`, `--debug` - è¿è¡Œ Debug ç‰ˆæœ¬ï¼ˆé»˜è®¤ï¼‰
- `-r`, `--release` - è¿è¡Œ Release ç‰ˆæœ¬
- `-f`, `--flutter` - ä½¿ç”¨ Flutter è¿è¡Œï¼ˆæ”¯æŒçƒ­é‡è½½ï¼‰
- `-h`, `--help` - æ˜¾ç¤ºå¸®åŠ©

**ä½¿ç”¨**:
```bash
.\scripts\run.bat           # Debug ç‰ˆæœ¬
.\scripts\run.bat -r        # Release ç‰ˆæœ¬
.\scripts\run.bat -f        # Flutter çƒ­é‡è½½æ¨¡å¼
.\scripts\run.bat -r -f     # Release + Flutter
```

**é€‚ç”¨åœºæ™¯**: éœ€è¦ç‰¹å®šè¿è¡Œæ¨¡å¼æ—¶

---

### ğŸ› è°ƒè¯•è„šæœ¬

#### `debug_run.bat` â­ æ¨è
**ç”¨é€”**: è°ƒè¯•æ¨¡å¼è¿è¡Œï¼Œæ•è·æ‰€æœ‰æ—¥å¿—åˆ°æ–‡ä»¶  
**åŠŸèƒ½**:
- åœæ­¢å·²æœ‰è¿›ç¨‹
- è¿è¡Œå¹¶è¾“å‡ºæ—¥å¿—åˆ° `debug_run.log`
- æ–¹ä¾¿é—®é¢˜æ’æŸ¥

**ä½¿ç”¨**:
```bash
.\scripts\debug_run.bat

# æŸ¥çœ‹æ—¥å¿—
Get-Content debug_run.log -Tail 50
```

**æ—¥å¿—ä½ç½®**: `debug_run.log`ï¼ˆé¡¹ç›®æ ¹ç›®å½•ï¼‰  
**é€‚ç”¨åœºæ™¯**: é—®é¢˜æ’æŸ¥ã€åŠŸèƒ½è°ƒè¯•

---

#### `monitor_log.bat`
**ç”¨é€”**: å®æ—¶ç›‘æ§æ—¥å¿—è¾“å‡º  
**åŠŸèƒ½**:
- æ¯ 2 ç§’åˆ·æ–°æ˜¾ç¤ºæœ€æ–° 50 è¡Œæ—¥å¿—
- è‡ªåŠ¨æ£€æµ‹æ—¥å¿—æ–‡ä»¶ï¼ˆdebug_run.log æˆ– example/test_output.logï¼‰

**ä½¿ç”¨**:
```bash
.\scripts\monitor_log.bat

# æŒ‰ Ctrl+C åœæ­¢
```

**é€‚ç”¨åœºæ™¯**: å®æ—¶è§‚å¯Ÿæ—¥å¿—å˜åŒ–

---

### ğŸ“¦ å‘å¸ƒè„šæœ¬

#### `build_release_v2.bat` â­ å‘ç‰ˆå¿…ç”¨
**ç”¨é€”**: æ„å»ºå¯å‘å¸ƒçš„é¢„ç¼–è¯‘ DLL åŒ…  
**åŠŸèƒ½**:
- æ¸…ç†æ—§æ„å»º
- ç¼–è¯‘ Release ç‰ˆæœ¬
- å¤åˆ¶ DLLã€å¤´æ–‡ä»¶ã€Dart æºç ã€JavaScript SDK
- å¤åˆ¶æ–‡æ¡£ï¼ˆREADME, CHANGELOG, LICENSEï¼‰
- æ‰“åŒ…æˆ ZIP

**ä½¿ç”¨**:
```bash
.\scripts\build_release_v2.bat
```

**äº§ç‰©**:
- `release/anywp_engine_v{ç‰ˆæœ¬å·}/` - è§£å‹åçš„ç›®å½•
- `release/anywp_engine_v{ç‰ˆæœ¬å·}.zip` - å‹ç¼©åŒ…

**é€‚ç”¨åœºæ™¯**: å‡†å¤‡å‘å¸ƒæ–°ç‰ˆæœ¬

---

### âš™ï¸ å®‰è£…è„šæœ¬

#### `setup_webview2.bat` â­ é¦–æ¬¡å¿…ç”¨
**ç”¨é€”**: å®‰è£… WebView2 SDK  
**åŠŸèƒ½**:
- ä¸‹è½½ NuGetï¼ˆå¦‚æœªå®‰è£…ï¼‰
- å®‰è£… Microsoft.Web.WebView2 v1.0.2592.51
- å®‰è£…åˆ° `windows/packages/`

**ä½¿ç”¨**:
```bash
.\scripts\setup_webview2.bat
```

**é€‚ç”¨åœºæ™¯**: 
- é¦–æ¬¡å¼€å‘
- SDK æ–‡ä»¶ä¸¢å¤±
- é‡æ–°å®‰è£…ä¾èµ–

---

## ğŸ¯ ä½¿ç”¨å»ºè®®

### æ—¥å¸¸å¼€å‘æµç¨‹

```bash
# 1. é¦–æ¬¡è¿è¡Œï¼ˆå®‰è£… SDKï¼‰
.\scripts\setup_webview2.bat

# 2. å¼€å‘æµ‹è¯•ï¼ˆæœ€å¸¸ç”¨ï¼‰
.\scripts\build_and_run.bat

# 3. å¿«é€Ÿæµ‹è¯•ï¼ˆä»£ç æœªæ”¹åŠ¨ï¼‰
.\scripts\test.bat

# 4. è°ƒè¯•é—®é¢˜ï¼ˆéœ€è¦æ—¥å¿—ï¼‰
.\scripts\debug_run.bat
```

### å‘å¸ƒæµç¨‹

```bash
# 1. æ„å»ºå‘å¸ƒåŒ…
.\scripts\build_release_v2.bat

# 2. éªŒè¯å‘å¸ƒåŒ…
# æ£€æŸ¥ release/anywp_engine_v{ç‰ˆæœ¬å·}/ ç›®å½•

# 3. æ¨é€åˆ° GitHub
git push origin main

# 4. åˆ›å»º GitHub Release
# ä¸Šä¼  release/anywp_engine_v{ç‰ˆæœ¬å·}.zip
```

---

## âœ… è„šæœ¬ç‰¹æ€§

### ä¸­æ–‡æ”¯æŒ
æ‰€æœ‰è„šæœ¬éƒ½ä½¿ç”¨ `chcp 65001` å¯ç”¨ UTF-8 ç¼–ç ï¼Œå®Œç¾æ”¯æŒä¸­æ–‡ã€‚

### é”™è¯¯å¤„ç†
- æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
- éªŒè¯æ„å»ºç»“æœ
- æä¾›æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯

### ç”¨æˆ·å‹å¥½
- æ¸…æ™°çš„è¿›åº¦æç¤º
- è¯¦ç»†çš„ä½¿ç”¨è¯´æ˜
- å‹å¥½çš„é”™è¯¯æç¤º

---

## ğŸ—‘ï¸ å·²åˆ é™¤çš„è„šæœ¬

- âŒ `build_release.bat` - æ—§ç‰ˆå‘å¸ƒè„šæœ¬ï¼ˆä¸ v2 é‡å¤ï¼‰
- âŒ `PUSH_TO_GITHUB.bat` - GitHub æ¨é€è„šæœ¬ï¼ˆä¸­æ–‡ç¼–ç é—®é¢˜ï¼Œæ”¹ç”¨ç›´æ¥ `git push`ï¼‰

---

## ğŸ“Š è„šæœ¬ç»Ÿè®¡

**æ€»æ•°**: 7 ä¸ªï¼ˆ8 ä¸ª â†’ 7 ä¸ªï¼Œåˆ é™¤ 2 ä¸ªé‡å¤è„šæœ¬ï¼‰

**åˆ†ç±»**:
- å¼€å‘è„šæœ¬: 3 ä¸ª
- è°ƒè¯•è„šæœ¬: 2 ä¸ª
- å‘å¸ƒè„šæœ¬: 1 ä¸ª
- å®‰è£…è„šæœ¬: 1 ä¸ª

**æ¨èè„šæœ¬** (â­):
- `build_and_run.bat` - æ—¥å¸¸å¼€å‘
- `test.bat` - å¿«é€Ÿæµ‹è¯•
- `debug_run.bat` - é—®é¢˜è°ƒè¯•
- `build_release_v2.bat` - å‘å¸ƒæ„å»º
- `setup_webview2.bat` - é¦–æ¬¡å®‰è£…

---

**æ‰€æœ‰è„šæœ¬å‡å·²æµ‹è¯•ï¼Œæ— è¯­æ³•é”™è¯¯ï¼Œæ”¯æŒä¸­æ–‡ã€‚** âœ…
