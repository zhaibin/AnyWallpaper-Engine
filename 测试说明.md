# ğŸ§ª æ‹–æ‹½åŠŸèƒ½æµ‹è¯•è¯´æ˜

## âœ… å·²ä¿®å¤çš„é—®é¢˜

### 1. çŠ¶æ€æ è¢«é®æŒ¡ âœ…
- å·²ç§»åŠ¨åˆ°å³ä¸Šè§’
- æ·»åŠ  z-index: 9999

### 2. çŠ¶æ€ä¿å­˜ï¼ˆéœ€è¦æµ‹è¯•éªŒè¯ï¼‰
- æ·»åŠ äº†è¯¦ç»†çš„ console.log
- ä¿®å¤äº† JSON è§£æbug

### 3. å…¶ä»–åº”ç”¨é®æŒ¡æ—¶æ‹–æ‹½ âœ…
- é¼ æ ‡ç§»åˆ°å…¶ä»–åº”ç”¨æ—¶è‡ªåŠ¨å–æ¶ˆæ‹–æ‹½
- ä¸å†èƒ½æ‹–æ‹½

## ğŸ“‹ æµ‹è¯•æ­¥éª¤

### ä½¿ç”¨è°ƒè¯•é¡µé¢æµ‹è¯•

åœ¨ Flutter åº”ç”¨ä¸­è¾“å…¥ï¼š
```
file:///E:/Projects/AnyWallpaper/AnyWallpaper-Engine/examples/test_drag_final.html
```

### æµ‹è¯•æµç¨‹

1. **å¯åŠ¨å£çº¸**
   - ç‚¹å‡» "Start"
   - ç­‰å¾…é¡µé¢åŠ è½½

2. **æŸ¥çœ‹å³ä¾§æ§åˆ¶å°**
   - åº”è¯¥çœ‹åˆ° "SDK ç‰ˆæœ¬: 4.2.0"
   - åº”è¯¥çœ‹åˆ° "äº¤äº’: å·²å¯ç”¨"

3. **æµ‹è¯•æ‹–æ‹½**
   - æ‹–åŠ¨é»„è‰²æ–¹å—åˆ°æ–°ä½ç½®
   - **æŸ¥çœ‹å³ä¾§æ§åˆ¶å°**ï¼Œåº”è¯¥çœ‹åˆ°ï¼š
     ```
     [AnyWP] Saving position for xxx: {left: xxx, top: xxx}
     [AnyWP] Sending saveState message: ...
     [AnyWP] Message sent successfully
     ```

4. **åœæ­¢å£çº¸**
   - ç‚¹å‡» "Stop"

5. **é‡æ–°å¯åŠ¨**
   - ç‚¹å‡» "Start"
   - **æŸ¥çœ‹å³ä¾§æ§åˆ¶å°**ï¼Œåº”è¯¥çœ‹åˆ°ï¼š
     ```
     [AnyWP] Loading state for key: xxx
     [AnyWP] Received stateLoaded event: ...
     [AnyWP] State loaded successfully: {left: xxx, top: xxx}
     [AnyWP] Restored position for xxx: ...
     ```

6. **éªŒè¯ä½ç½®**
   - æ–¹å—åº”è¯¥åœ¨ä¸Šæ¬¡æ‹–æ‹½çš„ä½ç½®
   - ä¸åº”è¯¥å›åˆ°åˆå§‹ä½ç½®

## ğŸ” å¦‚æœä½ç½®è¿˜æ˜¯æ²¡ä¿å­˜

è¯·å‘Šè¯‰æˆ‘å³ä¾§æ§åˆ¶å°æ˜¾ç¤ºäº†ä»€ä¹ˆï¼š

### æ‹–æ‹½ç»“æŸæ—¶
- æœ‰çœ‹åˆ° "Saving position" å—ï¼Ÿ
- æœ‰çœ‹åˆ° "Sending saveState message" å—ï¼Ÿ
- æœ‰çœ‹åˆ° "Message sent successfully" å—ï¼Ÿ

### é‡æ–°å¯åŠ¨æ—¶
- æœ‰çœ‹åˆ° "Loading state for key" å—ï¼Ÿ
- æœ‰çœ‹åˆ° "Received stateLoaded event" å—ï¼Ÿ
- æœ‰çœ‹åˆ° "Restored position" å—ï¼Ÿ

## ğŸ“ åŒæ—¶æ£€æŸ¥ C++ æ—¥å¿—

å¦‚æœæœ‰å‘½ä»¤è¡Œçª—å£ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰ï¼š
```
[AnyWP] [State] Saved via WebMessage: xxx = ...
[AnyWP] [State] Loaded via WebMessage: xxx = ...
```

## âš¡ å¿«é€Ÿæµ‹è¯•

ä¹Ÿå¯ä»¥ç”¨è¿™ä¸ªè‡ªåŠ¨æµ‹è¯•é¡µé¢ï¼š
```
file:///E:/Projects/AnyWallpaper/AnyWallpaper-Engine/examples/test_drag_auto.html
```

ä¼šè‡ªåŠ¨æ£€æŸ¥æ‰€æœ‰åŠŸèƒ½æ˜¯å¦æ­£å¸¸ã€‚

